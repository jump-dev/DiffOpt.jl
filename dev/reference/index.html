<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · DiffOpt.jl</title><meta name="title" content="Reference · DiffOpt.jl"/><meta property="og:title" content="Reference · DiffOpt.jl"/><meta property="twitter:title" content="Reference · DiffOpt.jl"/><meta name="description" content="Documentation for DiffOpt.jl."/><meta property="og:description" content="Documentation for DiffOpt.jl."/><meta property="twitter:description" content="Documentation for DiffOpt.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DiffOpt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../manual/">Manual</a></li><li><a class="tocitem" href="../usage/">Usage</a></li><li class="is-active"><a class="tocitem" href>Reference</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../examples/Mean_Variance_Portfolio_Example/">Mean Variance Portfolio Example</a></li><li><a class="tocitem" href="../examples/Planar_Arm_Example/">Planar Arm Example</a></li><li><a class="tocitem" href="../examples/Thermal_Generation_Dispatch_Example/">Thermal Generation Dispatch Example</a></li><li><a class="tocitem" href="../examples/Thermal_Generation_Dispatch_Example_new/">Thermal Generation Dispatch Example</a></li><li><a class="tocitem" href="../examples/Thermal_Generation_Dispatch_sweep/">Thermal Generation Dispatch Sweep Example</a></li><li><a class="tocitem" href="../examples/autotuning-ridge/">Auto-tuning Hyperparameters</a></li><li><a class="tocitem" href="../examples/autotuning-ridge_new/">Auto-tuning Hyperparameters (JuMP API)</a></li><li><a class="tocitem" href="../examples/chainrules_unit/">ChainRules integration demo: Relaxed Unit Commitment</a></li><li><a class="tocitem" href="../examples/chainrules_unit_new/">ChainRules integration demo: Relaxed Unit Commitment</a></li><li><a class="tocitem" href="../examples/custom-relu/">Custom ReLU layer</a></li><li><a class="tocitem" href="../examples/custom-relu_new/">Custom ReLU layer</a></li><li><a class="tocitem" href="../examples/matrix-inversion-manual/">Differentiating a QP wrt a single variable</a></li><li><a class="tocitem" href="../examples/matrix-inversion-manual_new/">Differentiating a QP wrt a single variable</a></li><li><a class="tocitem" href="../examples/nearest_correlation/">Nearest correlation</a></li><li><a class="tocitem" href="../examples/nearest_correlation_new/">Nearest correlation</a></li><li><a class="tocitem" href="../examples/polyhedral_project/">Polyhedral QP layer</a></li><li><a class="tocitem" href="../examples/polyhedral_project_new/">Polyhedral QP layer</a></li><li><a class="tocitem" href="../examples/sensitivity-analysis-ridge/">Sensitivity Analysis of Ridge Regression</a></li><li><a class="tocitem" href="../examples/sensitivity-analysis-ridge_new/">Sensitivity Analysis of Ridge Regression</a></li><li><a class="tocitem" href="../examples/sensitivity-analysis-svm/">Sensitivity Analysis of SVM</a></li><li><a class="tocitem" href="../examples/sensitivity-analysis-svm_new/">Sensitivity Analysis of SVM</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jump-dev/DiffOpt.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><ul><li><a href="#DiffOpt.AbstractLazyScalarFunction"><code>DiffOpt.AbstractLazyScalarFunction</code></a></li><li><a href="#DiffOpt.AbstractModel"><code>DiffOpt.AbstractModel</code></a></li><li><a href="#DiffOpt.ConicProgram.Model"><code>DiffOpt.ConicProgram.Model</code></a></li><li><a href="#DiffOpt.DifferentiateTimeSec"><code>DiffOpt.DifferentiateTimeSec</code></a></li><li><a href="#DiffOpt.ForwardConstraintDual"><code>DiffOpt.ForwardConstraintDual</code></a></li><li><a href="#DiffOpt.ForwardConstraintFunction"><code>DiffOpt.ForwardConstraintFunction</code></a></li><li><a href="#DiffOpt.ForwardConstraintSet"><code>DiffOpt.ForwardConstraintSet</code></a></li><li><a href="#DiffOpt.ForwardObjectiveFunction"><code>DiffOpt.ForwardObjectiveFunction</code></a></li><li><a href="#DiffOpt.ForwardVariablePrimal"><code>DiffOpt.ForwardVariablePrimal</code></a></li><li><a href="#DiffOpt.IndexMappedFunction"><code>DiffOpt.IndexMappedFunction</code></a></li><li><a href="#DiffOpt.MOItoJuMP"><code>DiffOpt.MOItoJuMP</code></a></li><li><a href="#DiffOpt.MatrixScalarQuadraticFunction"><code>DiffOpt.MatrixScalarQuadraticFunction</code></a></li><li><a href="#DiffOpt.MatrixVectorAffineFunction"><code>DiffOpt.MatrixVectorAffineFunction</code></a></li><li><a href="#DiffOpt.ModelConstructor"><code>DiffOpt.ModelConstructor</code></a></li><li><a href="#DiffOpt.NonLinearKKTJacobianFactorization"><code>DiffOpt.NonLinearKKTJacobianFactorization</code></a></li><li><a href="#DiffOpt.NonLinearProgram.Model"><code>DiffOpt.NonLinearProgram.Model</code></a></li><li><a href="#DiffOpt.ObjectiveFunctionAttribute"><code>DiffOpt.ObjectiveFunctionAttribute</code></a></li><li><a href="#DiffOpt.ProductOfSets"><code>DiffOpt.ProductOfSets</code></a></li><li><a href="#DiffOpt.QuadraticProgram.LinearAlgebraSolver"><code>DiffOpt.QuadraticProgram.LinearAlgebraSolver</code></a></li><li><a href="#DiffOpt.QuadraticProgram.Model"><code>DiffOpt.QuadraticProgram.Model</code></a></li><li><a href="#DiffOpt.ReverseConstraintDual"><code>DiffOpt.ReverseConstraintDual</code></a></li><li><a href="#DiffOpt.ReverseConstraintFunction"><code>DiffOpt.ReverseConstraintFunction</code></a></li><li><a href="#DiffOpt.ReverseConstraintSet"><code>DiffOpt.ReverseConstraintSet</code></a></li><li><a href="#DiffOpt.ReverseObjectiveFunction"><code>DiffOpt.ReverseObjectiveFunction</code></a></li><li><a href="#DiffOpt.ReverseVariablePrimal"><code>DiffOpt.ReverseVariablePrimal</code></a></li><li><a href="#DiffOpt.SparseVectorAffineFunction"><code>DiffOpt.SparseVectorAffineFunction</code></a></li><li><a href="#DiffOpt.VectorScalarAffineFunction"><code>DiffOpt.VectorScalarAffineFunction</code></a></li><li><a href="#DiffOpt.Dπ-Union{Tuple{T}, Tuple{Vector{T}, MathOptInterface.ModelLike, DiffOpt.ProductOfSets}} where T"><code>DiffOpt.Dπ</code></a></li><li><a href="#DiffOpt.NonLinearProgram._build_sensitivity_matrices-Union{Tuple{Z}, Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}, AbstractVector, AbstractVector, AbstractVector, AbstractVector, AbstractVector, Vararg{Vector{Z}, 5}}} where Z&lt;:Integer"><code>DiffOpt.NonLinearProgram._build_sensitivity_matrices</code></a></li><li><a href="#DiffOpt.NonLinearProgram._compute_derivatives_no_relax-Union{Tuple{Z}, Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}, AbstractVector, AbstractVector, AbstractVector, AbstractVector, AbstractVector, Vararg{Vector{Z}, 5}}} where Z&lt;:Integer"><code>DiffOpt.NonLinearProgram._compute_derivatives_no_relax</code></a></li><li><a href="#DiffOpt.NonLinearProgram._compute_optimal_hess_jac-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}"><code>DiffOpt.NonLinearProgram._compute_optimal_hess_jac</code></a></li><li><a href="#DiffOpt.NonLinearProgram._compute_optimal_hessian-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}"><code>DiffOpt.NonLinearProgram._compute_optimal_hessian</code></a></li><li><a href="#DiffOpt.NonLinearProgram._compute_optimal_jacobian-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}"><code>DiffOpt.NonLinearProgram._compute_optimal_jacobian</code></a></li><li><a href="#DiffOpt.NonLinearProgram._compute_sensitivity-Tuple{DiffOpt.NonLinearProgram.Model}"><code>DiffOpt.NonLinearProgram._compute_sensitivity</code></a></li><li><a href="#DiffOpt.NonLinearProgram._compute_solution_and_bounds-Tuple{DiffOpt.NonLinearProgram.Model}"><code>DiffOpt.NonLinearProgram._compute_solution_and_bounds</code></a></li><li><a href="#DiffOpt.NonLinearProgram._create_evaluator-Tuple{DiffOpt.NonLinearProgram.Form}"><code>DiffOpt.NonLinearProgram._create_evaluator</code></a></li><li><a href="#DiffOpt.NonLinearProgram._fill_off_diagonal-Tuple{SparseArrays.SparseMatrixCSC}"><code>DiffOpt.NonLinearProgram._fill_off_diagonal</code></a></li><li><a href="#DiffOpt.NonLinearProgram._find_inequalities-Tuple{DiffOpt.NonLinearProgram.Form}"><code>DiffOpt.NonLinearProgram._find_inequalities</code></a></li><li><a href="#DiffOpt.NonLinearProgram._inertia_correction-Union{Tuple{T}, Tuple{SparseArrays.SparseMatrixCSC, Int64, Int64}} where T&lt;:Real"><code>DiffOpt.NonLinearProgram._inertia_correction</code></a></li><li><a href="#DiffOpt.NonLinearProgram._is_greater_inequality-Union{Tuple{MathOptInterface.ConstraintIndex{F, S}}, Tuple{S}, Tuple{F}} where {F&lt;:Union{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.ScalarNonlinearFunction, MathOptInterface.ScalarQuadraticFunction{Float64}}, S&lt;:MathOptInterface.GreaterThan}"><code>DiffOpt.NonLinearProgram._is_greater_inequality</code></a></li><li><a href="#DiffOpt.NonLinearProgram._is_less_inequality-Union{Tuple{MathOptInterface.ConstraintIndex{F, S}}, Tuple{S}, Tuple{F}} where {F&lt;:Union{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.ScalarNonlinearFunction, MathOptInterface.ScalarQuadraticFunction{Float64}}, S&lt;:MathOptInterface.LessThan}"><code>DiffOpt.NonLinearProgram._is_less_inequality</code></a></li><li><a href="#DiffOpt.NonLinearProgram._lu_with_inertia_correction-Union{Tuple{T}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model, T}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model, T, Int64}} where T&lt;:Real"><code>DiffOpt.NonLinearProgram._lu_with_inertia_correction</code></a></li><li><a href="#DiffOpt.QuadraticProgram.create_LHS_matrix"><code>DiffOpt.QuadraticProgram.create_LHS_matrix</code></a></li><li><a href="#DiffOpt.QuadraticProgram.solve_system-NTuple{4, Any}"><code>DiffOpt.QuadraticProgram.solve_system</code></a></li><li><a href="#DiffOpt.add_all_model_constructors-Tuple{Any}"><code>DiffOpt.add_all_model_constructors</code></a></li><li><a href="#DiffOpt.add_model_constructor-Tuple{DiffOpt.Optimizer, Any}"><code>DiffOpt.add_model_constructor</code></a></li><li><a href="#DiffOpt.conic_diff_model-Tuple{Any}"><code>DiffOpt.conic_diff_model</code></a></li><li><a href="#DiffOpt.dU_from_dQ!-Tuple{Any, Any}"><code>DiffOpt.dU_from_dQ!</code></a></li><li><a href="#DiffOpt.diff_model-Tuple{Any}"><code>DiffOpt.diff_model</code></a></li><li><a href="../manual/#DiffOpt.diff_optimizer"><code>DiffOpt.diff_optimizer</code></a></li><li><a href="#DiffOpt.diff_optimizer-Tuple{Any}"><code>DiffOpt.diff_optimizer</code></a></li><li><a href="#DiffOpt.empty_input_sensitivities!"><code>DiffOpt.empty_input_sensitivities!</code></a></li><li><a href="#DiffOpt.forward_differentiate!"><code>DiffOpt.forward_differentiate!</code></a></li><li><a href="#DiffOpt.get_forward_variable-Tuple{JuMP.Model, JuMP.VariableRef}"><code>DiffOpt.get_forward_variable</code></a></li><li><a href="#DiffOpt.get_reverse_parameter-Tuple{JuMP.Model, JuMP.VariableRef}"><code>DiffOpt.get_reverse_parameter</code></a></li><li><a href="#DiffOpt.map_rows-Tuple{Function, Any, DiffOpt.ProductOfSets, Union{DiffOpt.Flattened, DiffOpt.Nested}}"><code>DiffOpt.map_rows</code></a></li><li><a href="#DiffOpt.nonlinear_diff_model-Tuple{Any}"><code>DiffOpt.nonlinear_diff_model</code></a></li><li><a href="#DiffOpt.quad_sym_half"><code>DiffOpt.quad_sym_half</code></a></li><li><a href="#DiffOpt.quadratic_diff_model-Tuple{Any}"><code>DiffOpt.quadratic_diff_model</code></a></li><li><a href="#DiffOpt.reverse_differentiate!"><code>DiffOpt.reverse_differentiate!</code></a></li><li><a href="#DiffOpt.set_forward_parameter-Tuple{JuMP.Model, JuMP.VariableRef, Number}"><code>DiffOpt.set_forward_parameter</code></a></li><li><a href="#DiffOpt.set_reverse_variable-Tuple{JuMP.Model, JuMP.VariableRef, Number}"><code>DiffOpt.set_reverse_variable</code></a></li><li><a href="#DiffOpt.standard_form"><code>DiffOpt.standard_form</code></a></li><li><a href="#DiffOpt.ΔQ_from_ΔU!-Tuple{Any, Any}"><code>DiffOpt.ΔQ_from_ΔU!</code></a></li><li><a href="#DiffOpt.π-Union{Tuple{T}, Tuple{Vector{T}, MathOptInterface.ModelLike, DiffOpt.ProductOfSets}} where T"><code>DiffOpt.π</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.AbstractLazyScalarFunction" href="#DiffOpt.AbstractLazyScalarFunction"><code>DiffOpt.AbstractLazyScalarFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractLazyScalarFunction &lt;: MOI.AbstractScalarFunction end</code></pre><p>Subtype of <code>MOI.AbstractScalarFunction</code> that is not a standard MOI scalar function but can be converted to one using <a href="#DiffOpt.standard_form"><code>standard_form</code></a>.</p><p>The function can also be inspected lazily using <code>JuMP.coefficient</code> or <a href="#DiffOpt.quad_sym_half"><code>quad_sym_half</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.AbstractModel" href="#DiffOpt.AbstractModel"><code>DiffOpt.AbstractModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractModel &lt;: MOI.ModelLike end</code></pre><p>Model supporting <a href="#DiffOpt.forward_differentiate!"><code>forward_differentiate!</code></a> and <a href="#DiffOpt.reverse_differentiate!"><code>reverse_differentiate!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.DifferentiateTimeSec" href="#DiffOpt.DifferentiateTimeSec"><code>DiffOpt.DifferentiateTimeSec</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DifferentiateTimeSec()</code></pre><p>A model attribute for the total elapsed time (in seconds) for computing the differentiation information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ForwardConstraintDual" href="#DiffOpt.ForwardConstraintDual"><code>DiffOpt.ForwardConstraintDual</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ForwardConstraintDual &lt;: MOI.AbstractConstraintAttribute</code></pre><p>A <code>MOI.AbstractConstraintAttribute</code> to get output data from forward differentiation for the dual variable.</p><p>For instance, to get the sensitivity of the dual of constraint of index <code>ci</code> with respect to the parameter perturbation, do the following:</p><pre><code class="language-julia hljs">MOI.get(model, DiffOpt.ForwardConstraintDual(), ci)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ForwardConstraintFunction" href="#DiffOpt.ForwardConstraintFunction"><code>DiffOpt.ForwardConstraintFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ForwardConstraintFunction &lt;: MOI.AbstractConstraintAttribute</code></pre><p>A <code>MOI.AbstractConstraintAttribute</code> to set input data to forward differentiation, that is, problem input data.</p><p>For instance, if the scalar constraint of index <code>ci</code> contains <code>θ * (x + 2y) &lt;= 5θ</code>, for the purpose of computing the derivative with respect to <code>θ</code>, the following should be set:</p><pre><code class="language-julia hljs">MOI.set(model, DiffOpt.ForwardConstraintFunction(), ci, 1.0 * x + 2.0 * y - 5.0)</code></pre><p>Note that we use <code>-5</code> as the <code>ForwardConstraintFunction</code> sets the tangent of the ConstraintFunction so we consider the expression <code>θ * (x + 2y - 5)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ForwardConstraintSet" href="#DiffOpt.ForwardConstraintSet"><code>DiffOpt.ForwardConstraintSet</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ForwardConstraintSet &lt;: MOI.AbstractConstraintAttribute</code></pre><p>A <code>MOI.AbstractConstraintAttribute</code> to set input data to forward differentiation, that is, problem input data.</p><p>Currently, this only works for the set <code>MOI.Parameter</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ForwardObjectiveFunction" href="#DiffOpt.ForwardObjectiveFunction"><code>DiffOpt.ForwardObjectiveFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ForwardObjectiveFunction &lt;: MOI.AbstractModelAttribute</code></pre><p>A <code>MOI.AbstractModelAttribute</code> to set input data to forward differentiation, that is, problem input data. The possible values are any <code>MOI.AbstractScalarFunction</code>. A <code>MOI.ScalarQuadraticFunction</code> can only be used in linearly constrained quadratic models.</p><p>For instance, if the objective contains <code>θ * (x + 2y)</code>, for the purpose of computing the derivative with respect to <code>θ</code>, the following should be set:</p><pre><code class="language-julia hljs">MOI.set(model, DiffOpt.ForwardObjectiveFunction(), 1.0 * x + 2.0 * y)</code></pre><p>where <code>x</code> and <code>y</code> are the relevant <code>MOI.VariableIndex</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ForwardVariablePrimal" href="#DiffOpt.ForwardVariablePrimal"><code>DiffOpt.ForwardVariablePrimal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ForwardVariablePrimal &lt;: MOI.AbstractVariableAttribute</code></pre><p>A <code>MOI.AbstractVariableAttribute</code> to get output data from forward differentiation, that is, problem solution.</p><p>For instance, to get the tangent of the variable of index <code>vi</code> corresponding to the tangents given to <code>ForwardObjectiveFunction</code> and <code>ForwardConstraintFunction</code>, do the following:</p><pre><code class="language-julia hljs">MOI.get(model, DiffOpt.ForwardVariablePrimal(), vi)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.IndexMappedFunction" href="#DiffOpt.IndexMappedFunction"><code>DiffOpt.IndexMappedFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IndexMappedFunction{F&lt;:MOI.AbstractFunction} &lt;: AbstractLazyScalarFunction</code></pre><p>Lazily represents the function <code>MOI.Utilities.map_indices(index_map, DiffOpt.standard_form(func))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.MOItoJuMP" href="#DiffOpt.MOItoJuMP"><code>DiffOpt.MOItoJuMP</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MOItoJuMP{F&lt;:MOI.AbstractScalarFunction} &lt;: JuMP.AbstractJuMPScalar</code></pre><p>Lazily represents the function <code>JuMP.jump_function(model, DiffOpt.standard_form(func))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.MatrixScalarQuadraticFunction" href="#DiffOpt.MatrixScalarQuadraticFunction"><code>DiffOpt.MatrixScalarQuadraticFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct MatrixScalarQuadraticFunction{T, VT, MT} &lt;: MOI.AbstractScalarFunction
    affine::VectorScalarAffineFunction{T,VT}
    terms::MT
end</code></pre><p>Represents the function <code>x&#39; * terms * x / 2 + affine</code> as an <code>MOI.AbstractScalarFunction</code> where <code>x[i] = MOI.VariableIndex(i)</code>. Use <a href="#DiffOpt.standard_form"><code>standard_form</code></a> to convert it to a <code>MOI.ScalarQuadraticFunction{T}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.MatrixVectorAffineFunction" href="#DiffOpt.MatrixVectorAffineFunction"><code>DiffOpt.MatrixVectorAffineFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MatrixVectorAffineFunction{T, VT} &lt;: MOI.AbstractVectorFunction</code></pre><p>Represents the function <code>terms * x + constant</code> as an <code>MOI.AbstractVectorFunction</code> where <code>x[i] = MOI.VariableIndex(i)</code>. Use <a href="#DiffOpt.standard_form"><code>standard_form</code></a> to convert it to a <code>MOI.VectorAffineFunction{T}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ModelConstructor" href="#DiffOpt.ModelConstructor"><code>DiffOpt.ModelConstructor</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ModelConstructor &lt;: MOI.AbstractOptimizerAttribute</code></pre><p>Determines which subtype of <a href="#DiffOpt.AbstractModel"><code>DiffOpt.AbstractModel</code></a> to use for differentiation. When set to <code>nothing</code>, the first one out of <code>model.model_constructors</code> that support the problem is used.</p><p>Examples:</p><pre><code class="language-julia hljs">julia&gt; MOI.set(model, DiffOpt.ModelConstructor(), DiffOpt.QuadraticProgram.Model)

julia&gt; MOI.set(model, DiffOpt.ModelConstructor(), DiffOpt.ConicProgram.Model)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearKKTJacobianFactorization" href="#DiffOpt.NonLinearKKTJacobianFactorization"><code>DiffOpt.NonLinearKKTJacobianFactorization</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NonLinearKKTJacobianFactorization &lt;: MOI.AbstractModelAttribute</code></pre><p>A <code>MOI.AbstractModelAttribute</code> to set which factorization method to use for the nonlinear KKT Jacobian matrix, necessary for the implict function diferentiation for <code>NonLinearProgram</code> models.</p><p>The function will be called with the following signature:</p><pre><code class="language-julia hljs">function factorization(M::SparseMatrixCSC{T&lt;Real}, # The matrix to factorize
    model::NonLinearProgram.Model (can be ignored - useful for inertia correction)
)</code></pre><ul><li><code>M</code> is the matrix to factorize.</li><li><code>model</code> is the nonlinear model data that generated <code>M</code>. This can be used for</li></ul><p>some factorization techniques such as LU with inertia correction.</p><p>Can be set by the user to use a custom factorization function:</p><pre><code class="language-julia hljs">MOI.set(model, DiffOpt.NonLinearKKTJacobianFactorization(), factorization)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ObjectiveFunctionAttribute" href="#DiffOpt.ObjectiveFunctionAttribute"><code>DiffOpt.ObjectiveFunctionAttribute</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ObjectiveFunctionAttribute{A,F} &lt;: MOI.AbstractModelAttribute
    attr::A
end</code></pre><p>Objective function attribute <code>attr</code> for the function type <code>F</code>. The type <code>F</code> is used by a <code>MOI.Bridges.AbstractBridgeOptimizer</code> to keep track of its position in a chain of objective bridges.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ProductOfSets" href="#DiffOpt.ProductOfSets"><code>DiffOpt.ProductOfSets</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ProductOfSets{T} &lt;: MOI.Utilities.OrderedProductOfSets{T}</code></pre><p>The <code>MOI.Utilities.@product_of_sets</code> macro requires to know the list of sets at compile time. In DiffOpt however, the list depends on what the user is going to use as set as DiffOpt supports any set as long as it implements the required function of MathOptSetDistances. For this type, the list of sets can be given a run-time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ReverseConstraintDual" href="#DiffOpt.ReverseConstraintDual"><code>DiffOpt.ReverseConstraintDual</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReverseConstraintDual &lt;: MOI.AbstractConstraintAttribute</code></pre><p>A <code>MOI.AbstractConstraintAttribute</code> to set input data from reverse differentiation.</p><p>For instance, to set the sensitivity <code>value</code> with respect to the dual variable of constraint with index <code>ci</code> do the following:</p><pre><code class="language-julia hljs">MOI.set(model, DiffOpt.ReverseConstraintDual(), ci, value)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ReverseConstraintFunction" href="#DiffOpt.ReverseConstraintFunction"><code>DiffOpt.ReverseConstraintFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReverseConstraintFunction</code></pre><p>An <code>MOI.AbstractConstraintAttribute</code> to get output data to reverse differentiation, that is, problem input data.</p><p>For instance, if the following returns <code>x + 2y + 5</code>, it means that the tangent has coordinate <code>1</code> for the coefficient of <code>x</code>, coordinate <code>2</code> for the coefficient of <code>y</code> and <code>5</code> for the function constant. If the constraint is of the form <code>func == constant</code> or <code>func &lt;= constant</code>, the tangent for the constant on the right-hand side is <code>-5</code>.</p><pre><code class="language-julia hljs">MOI.get(model, DiffOpt.ReverseConstraintFunction(), ci)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ReverseConstraintSet" href="#DiffOpt.ReverseConstraintSet"><code>DiffOpt.ReverseConstraintSet</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReverseConstraintSet</code></pre><p>An <code>MOI.AbstractConstraintAttribute</code> to get output data to reverse differentiation, that is, problem input data.</p><p>Currently, this only works for the set <code>MOI.Parameter</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ReverseObjectiveFunction" href="#DiffOpt.ReverseObjectiveFunction"><code>DiffOpt.ReverseObjectiveFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReverseObjectiveFunction &lt;: MOI.AbstractModelAttribute</code></pre><p>A <code>MOI.AbstractModelAttribute</code> to get output data to reverse differentiation, that is, problem input data.</p><p>For instance, to get the tangent of the objective function corresponding to the tangent given to <code>ReverseVariablePrimal</code>, do the following:</p><pre><code class="language-julia hljs">func = MOI.get(model, DiffOpt.ReverseObjectiveFunction())</code></pre><p>Then, to get the sensitivity of the linear term with variable <code>x</code>, do</p><pre><code class="language-julia hljs">JuMP.coefficient(func, x)</code></pre><p>To get the sensitivity with respect to the quadratic term with variables <code>x</code> and <code>y</code>, do either</p><pre><code class="language-julia hljs">JuMP.coefficient(func, x, y)</code></pre><p>or</p><pre><code class="language-julia hljs">DiffOpt.quad_sym_half(func, x, y)</code></pre><div class="admonition is-warning" id="Warning-55d343a81df9e3d2"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-55d343a81df9e3d2" title="Permalink"></a></header><div class="admonition-body"><p>These two lines are <strong>not</strong> equivalent in case <code>x == y</code>, see <a href="#DiffOpt.quad_sym_half"><code>quad_sym_half</code></a> for the details on the difference between these two functions.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ReverseVariablePrimal" href="#DiffOpt.ReverseVariablePrimal"><code>DiffOpt.ReverseVariablePrimal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReverseVariablePrimal &lt;: MOI.AbstractVariableAttribute</code></pre><p>A <code>MOI.AbstractVariableAttribute</code> to set input data to reverse differentiation, that is, problem solution.</p><p>For instance, to set the tangent of the variable of index <code>vi</code>, do the following:</p><pre><code class="language-julia hljs">MOI.set(model, DiffOpt.ReverseVariablePrimal(), x)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.SparseVectorAffineFunction" href="#DiffOpt.SparseVectorAffineFunction"><code>DiffOpt.SparseVectorAffineFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SparseVectorAffineFunction{T} &lt;: MOI.AbstractVectorFunction
    terms::SparseArrays.SparseMatrixCSC{T,Int}
    constants::Vector{T}
end</code></pre><p>The vector-valued affine function <span>$A x + b$</span>, where:</p><ul><li><span>$A$</span> is the sparse matrix given by <code>terms</code></li><li><span>$b$</span> is the vector <code>constants</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.VectorScalarAffineFunction" href="#DiffOpt.VectorScalarAffineFunction"><code>DiffOpt.VectorScalarAffineFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">VectorScalarAffineFunction{T, VT} &lt;: MOI.AbstractScalarFunction</code></pre><p>Represents the function <code>x ⋅ terms + constant</code> as an <code>MOI.AbstractScalarFunction</code> where <code>x[i] = MOI.VariableIndex(i)</code>. Use <a href="#DiffOpt.standard_form"><code>standard_form</code></a> to convert it to a <code>MOI.ScalarAffineFunction{T}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.Dπ-Union{Tuple{T}, Tuple{Vector{T}, MathOptInterface.ModelLike, DiffOpt.ProductOfSets}} where T" href="#DiffOpt.Dπ-Union{Tuple{T}, Tuple{Vector{T}, MathOptInterface.ModelLike, DiffOpt.ProductOfSets}} where T"><code>DiffOpt.Dπ</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dπ(v::Vector{Float64}, model, cones::ProductOfSets)</code></pre><p>Given a <code>model</code>, its <code>cones</code>, find the gradient of the projection of the vectors <code>v</code> of length equal to the number of rows in the conic form onto the cartesian product of the cones corresponding to these rows. For more info, refer to https://github.com/matbesancon/MathOptSetDistances.jl</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.add_all_model_constructors-Tuple{Any}" href="#DiffOpt.add_all_model_constructors-Tuple{Any}"><code>DiffOpt.add_all_model_constructors</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_all_model_constructors(model)</code></pre><p>Add all constructors of <a href="#DiffOpt.AbstractModel"><code>AbstractModel</code></a> defined in this package to <code>model</code> with <a href="#DiffOpt.add_model_constructor-Tuple{DiffOpt.Optimizer, Any}"><code>add_model_constructor</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.add_model_constructor-Tuple{DiffOpt.Optimizer, Any}" href="#DiffOpt.add_model_constructor-Tuple{DiffOpt.Optimizer, Any}"><code>DiffOpt.add_model_constructor</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>add<em>model</em>constructor(optimizer::Optimizer, model_constructor)</p><p>Add the constructor of <a href="#DiffOpt.AbstractModel"><code>AbstractModel</code></a> for <code>optimizer</code> to choose from when trying to differentiate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.conic_diff_model-Tuple{Any}" href="#DiffOpt.conic_diff_model-Tuple{Any}"><code>DiffOpt.conic_diff_model</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">conic_diff_model(optimizer_constructor; with_bridge_type = Float64, with_cache_type = Float64, with_outer_cache = true)</code></pre><p>Create a JuMP model with a differentiable optimizer for conic programs. The optimizer is created using <code>optimizer_constructor</code>.</p><p>See also: <a href="#DiffOpt.nonlinear_diff_model-Tuple{Any}"><code>nonlinear_diff_model</code></a>, <a href="#DiffOpt.quadratic_diff_model-Tuple{Any}"><code>quadratic_diff_model</code></a>, <a href="#DiffOpt.diff_model-Tuple{Any}"><code>diff_model</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.dU_from_dQ!-Tuple{Any, Any}" href="#DiffOpt.dU_from_dQ!-Tuple{Any, Any}"><code>DiffOpt.dU_from_dQ!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dU_from_dQ!(dQ, U)</code></pre><p>Return the solution <code>dU</code> of the matrix equation <code>dQ = dU&#39; * U + U&#39; * dU</code> where <code>dQ</code> and <code>U</code> are the two argument of the function.</p><p>This function overwrites the first argument <code>dQ</code> to store the solution. The matrix <code>U</code> is not however modified.</p><p>The matrix <code>dQ</code> is assumed to be symmetric and the matrix <code>U</code> is assumed to be upper triangular.</p><p>We can exploit the structure of <code>U</code> here:</p><ul><li>If the factorization was obtained from SVD, <code>U</code> would be orthogonal</li><li>If the factorization was obtained from Cholesky, <code>U</code> would be upper triangular.</li></ul><p>The MOI bridge uses Cholesky in order to exploit sparsity so we are in the second case.</p><p>We look for an upper triangular <code>dU</code> as well.</p><p>We can find each column of <code>dU</code> by solving a triangular linear system once the previous column have been found. Indeed, let <code>dj</code> be the <code>j</code>th column of <code>dU</code> <code>dU&#39; * U = vcat(dj&#39;U for j in axes(U, 2))</code> Therefore, <code>dQ[j, 1:j]</code> = dj&#39;U[:, 1:j] + U[:, j]&#39;dU[:, 1:j]<code>So</code>dQ[j, 1:(j-1)] - U[:, j]&#39; * dU[:, 1:(j-1)] = dj&#39;U[:, 1:(j-1)]<code>and</code>dQ[j, j] / 2 = dj&#39;U[:, j]`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.diff_model-Tuple{Any}" href="#DiffOpt.diff_model-Tuple{Any}"><code>DiffOpt.diff_model</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">diff_model(optimizer_constructor; with_bridge_type = Float64, with_cache_type = Float64, with_outer_cache = true)</code></pre><p>Create a JuMP model with a differentiable optimizer. The optimizer is created using <code>optimizer_constructor</code>. This model will try to select the proper differentiable optimization method based on the problem structure.</p><p>See also: <a href="#DiffOpt.nonlinear_diff_model-Tuple{Any}"><code>nonlinear_diff_model</code></a>, <a href="#DiffOpt.conic_diff_model-Tuple{Any}"><code>conic_diff_model</code></a>, <a href="#DiffOpt.quadratic_diff_model-Tuple{Any}"><code>quadratic_diff_model</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.diff_optimizer-Tuple{Any}" href="#DiffOpt.diff_optimizer-Tuple{Any}"><code>DiffOpt.diff_optimizer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function diff_optimizer(
    optimizer_constructor;
    with_bridge_type = Float64,
    with_cache_type = Float64,
    with_outer_cache = !isnothing(with_bridge_type),
    allow_parametric_opt_interface = true,
)</code></pre><p>Creates a <code>DiffOpt.Optimizer</code>, which is an MOI layer with an internal optimizer and other utility methods. Results (primal, dual and slack values) are obtained by querying the internal optimizer instantiated using the <code>optimizer_constructor</code>. These values are required for find jacobians with respect to problem data.</p><p>The inner optimizer is instantiated with <code>MOI.instantiate(optimizer_constructor; with_bridge_type, with_cache_type)</code>; see the docs of <code>MOI.instantiate</code>.</p><p>If <code>allow_parametric_opt_interface</code> is <code>true</code> and the inner optimizer does not <em>natively</em> (in the sense, without the bridge layer) supports <code>ParameterSet</code>, then a <code>ParametricOptInterface.Optimizer</code> layer is added.</p><p>If <code>with_outer_cache</code> is <code>true</code>, an additional layer of cache is added.</p><p>One define a differentiable model by using any solver of choice. Example:</p><pre><code class="language-julia hljs">julia&gt; import DiffOpt, HiGHS

julia&gt; model = DiffOpt.diff_optimizer(HiGHS.Optimizer)
julia&gt; set_attribute(model, DiffOpt.ModelConstructor, DiffOpt.QuadraticProgram.Model) # optional selection of diff method
julia&gt; x = model.add_variable(model)
julia&gt; model.add_constraint(model, ...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.empty_input_sensitivities!" href="#DiffOpt.empty_input_sensitivities!"><code>DiffOpt.empty_input_sensitivities!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">empty_input_sensitivities!(model::MOI.ModelLike)</code></pre><p>Empty the input sensitivities of the model. Sets to zero all the sensitivities set by the user with method such as:</p><ul><li><code>MOI.set(model, DiffOpt.ReverseVariablePrimal(), variable_index, value)</code></li><li><code>MOI.set(model, DiffOpt.ForwardObjectiveFunction(), expression)</code></li><li><code>MOI.set(model, DiffOpt.ForwardConstraintFunction(), index, expression)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.forward_differentiate!" href="#DiffOpt.forward_differentiate!"><code>DiffOpt.forward_differentiate!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">forward_differentiate!(model::Optimizer)</code></pre><p>Wrapper method for the forward pass. This method will consider as input a currently solved problem and differentials with respect to problem data set with the <a href="#DiffOpt.ForwardObjectiveFunction"><code>ForwardObjectiveFunction</code></a> and  <a href="#DiffOpt.ForwardConstraintFunction"><code>ForwardConstraintFunction</code></a> attributes. The output solution differentials can be queried with the attribute <a href="#DiffOpt.ForwardVariablePrimal"><code>ForwardVariablePrimal</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.get_forward_variable-Tuple{JuMP.Model, JuMP.VariableRef}" href="#DiffOpt.get_forward_variable-Tuple{JuMP.Model, JuMP.VariableRef}"><code>DiffOpt.get_forward_variable</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_forward_variable(model::JuMP.Model, variable::JuMP.VariableRef)</code></pre><p>Get the value of a variable output sensitivity for forward mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.get_reverse_parameter-Tuple{JuMP.Model, JuMP.VariableRef}" href="#DiffOpt.get_reverse_parameter-Tuple{JuMP.Model, JuMP.VariableRef}"><code>DiffOpt.get_reverse_parameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_reverse_parameter(model::JuMP.Model, variable::JuMP.VariableRef)</code></pre><p>Get the value of a parameter output sensitivity for reverse mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.map_rows-Tuple{Function, Any, DiffOpt.ProductOfSets, Union{DiffOpt.Flattened, DiffOpt.Nested}}" href="#DiffOpt.map_rows-Tuple{Function, Any, DiffOpt.ProductOfSets, Union{DiffOpt.Flattened, DiffOpt.Nested}}"><code>DiffOpt.map_rows</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">map_rows(f::Function, model, cones::ProductOfSets, map_mode::Union{Nested{T}, Flattened{T}})</code></pre><p>Given a <code>model</code>, its <code>cones</code> and <code>map_mode</code> of type <code>Nested</code> (resp. <code>Flattened</code>), return a <code>Vector{T}</code> of length equal to the number of cones (resp. rows) in the conic form where the value for the index (resp. rows) corresponding to each cone is equal to <code>f(ci, r)</code> where <code>ci</code> is the corresponding constraint index in <code>model</code> and <code>r</code> is a <code>UnitRange</code> of the corresponding rows in the conic form.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.nonlinear_diff_model-Tuple{Any}" href="#DiffOpt.nonlinear_diff_model-Tuple{Any}"><code>DiffOpt.nonlinear_diff_model</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nonlinear_diff_model(optimizer_constructor; with_bridge_type = Float64, with_cache_type = Float64, with_outer_cache = true)</code></pre><p>Create a JuMP model with a differentiable optimizer for nonlinear programs. The optimizer is created using <code>optimizer_constructor</code>.</p><p>See also: <a href="#DiffOpt.conic_diff_model-Tuple{Any}"><code>conic_diff_model</code></a>, <a href="#DiffOpt.quadratic_diff_model-Tuple{Any}"><code>quadratic_diff_model</code></a>, <a href="#DiffOpt.diff_model-Tuple{Any}"><code>diff_model</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.quad_sym_half" href="#DiffOpt.quad_sym_half"><code>DiffOpt.quad_sym_half</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">quad_sym_half(func, vi1::MOI.VariableIndex, vi2::MOI.VariableIndex)</code></pre><p>Return <code>Q[i,j] = Q[j,i]</code> where the quadratic terms of <code>func</code> is represented by <code>x&#39; Q x / 2</code> for a symmetric matrix <code>Q</code> where <code>x[i] = vi1</code> and <code>x[j] = vi2</code>. Note that while this is equal to <code>JuMP.coefficient(func, vi1, vi2)</code> if <code>vi1 != vi2</code>, in the case <code>vi1 == vi2</code>, it is rather equal to <code>2JuMP.coefficient(func, vi1, vi2)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.quadratic_diff_model-Tuple{Any}" href="#DiffOpt.quadratic_diff_model-Tuple{Any}"><code>DiffOpt.quadratic_diff_model</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">quadratic_diff_model(optimizer_constructor; with_bridge_type = Float64, with_cache_type = Float64, with_outer_cache = true)</code></pre><p>Create a JuMP model with a differentiable optimizer for quadratic programs. The optimizer is created using <code>optimizer_constructor</code>.</p><p>See also: <a href="#DiffOpt.nonlinear_diff_model-Tuple{Any}"><code>nonlinear_diff_model</code></a>, <a href="#DiffOpt.conic_diff_model-Tuple{Any}"><code>conic_diff_model</code></a>, <a href="#DiffOpt.diff_model-Tuple{Any}"><code>diff_model</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.reverse_differentiate!" href="#DiffOpt.reverse_differentiate!"><code>DiffOpt.reverse_differentiate!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reverse_differentiate!(model::MOI.ModelLike)</code></pre><p>Wrapper method for the backward pass / reverse differentiation. This method will consider as input a currently solved problem and differentials with respect to the solution set with the <a href="#DiffOpt.ReverseVariablePrimal"><code>ReverseVariablePrimal</code></a> attribute. The output problem data differentials can be queried with the attributes <a href="#DiffOpt.ReverseObjectiveFunction"><code>ReverseObjectiveFunction</code></a> and <a href="#DiffOpt.ReverseConstraintFunction"><code>ReverseConstraintFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.set_forward_parameter-Tuple{JuMP.Model, JuMP.VariableRef, Number}" href="#DiffOpt.set_forward_parameter-Tuple{JuMP.Model, JuMP.VariableRef, Number}"><code>DiffOpt.set_forward_parameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_forward_parameter(model::JuMP.Model, variable::JuMP.VariableRef, value::Number)</code></pre><p>Set the value of a parameter input sensitivity for forward mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.set_reverse_variable-Tuple{JuMP.Model, JuMP.VariableRef, Number}" href="#DiffOpt.set_reverse_variable-Tuple{JuMP.Model, JuMP.VariableRef, Number}"><code>DiffOpt.set_reverse_variable</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_reverse_variable(model::JuMP.Model, variable::JuMP.VariableRef, value::Number)</code></pre><p>Set the value of a variable input sensitivity for reverse mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.standard_form" href="#DiffOpt.standard_form"><code>DiffOpt.standard_form</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">standard_form(func::AbstractLazyScalarFunction)</code></pre><p>Converts <code>func</code> to a standard MOI scalar function.</p><pre><code class="nohighlight hljs">standard_form(func::MOItoJuMP)</code></pre><p>Converts <code>func</code> to a standard JuMP scalar function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ΔQ_from_ΔU!-Tuple{Any, Any}" href="#DiffOpt.ΔQ_from_ΔU!-Tuple{Any, Any}"><code>DiffOpt.ΔQ_from_ΔU!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ΔQ_from_ΔU!(ΔU, U)</code></pre><p>Return the symmetric solution <code>ΔQ</code> of the matrix equation <code>triu(ΔU) = 2triu(U * ΔQ)</code> where <code>ΔU</code> and <code>U</code> are the two argument of the function.</p><p>This function overwrites the first argument <code>ΔU</code> to store the solution. The matrix <code>U</code> is not however modified.</p><p>The matrix <code>U</code> is assumed to be upper triangular.</p><p>We can exploit the structure of <code>U</code> here:</p><ul><li>If the factorization was obtained from SVD, <code>U</code> would be orthogonal</li><li>If the factorization was obtained from Cholesky, <code>U</code> would be upper triangular.</li></ul><p>The MOI bridge uses Cholesky in order to exploit sparsity so we are in the second case.</p><p>We can find each column of <code>ΔQ</code> by solving a triangular linear system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.π-Union{Tuple{T}, Tuple{Vector{T}, MathOptInterface.ModelLike, DiffOpt.ProductOfSets}} where T" href="#DiffOpt.π-Union{Tuple{T}, Tuple{Vector{T}, MathOptInterface.ModelLike, DiffOpt.ProductOfSets}} where T"><code>DiffOpt.π</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">π(v::Vector{Float64}, model::MOI.ModelLike, cones::ProductOfSets)</code></pre><p>Given a <code>model</code>, its <code>cones</code>, find the projection of the vectors <code>v</code> of length equal to the number of rows in the conic form onto the cartesian product of the cones corresponding to these rows. For more info, refer to https://github.com/matbesancon/MathOptSetDistances.jl</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.QuadraticProgram.LinearAlgebraSolver" href="#DiffOpt.QuadraticProgram.LinearAlgebraSolver"><code>DiffOpt.QuadraticProgram.LinearAlgebraSolver</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LinearAlgebraSolver</code></pre><p>Optimizer attribute for the solver to use for the linear algebra operations. Each solver must implement: <code>solve_system(solver, LHS, RHS, iterative::Bool)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.QuadraticProgram.Model" href="#DiffOpt.QuadraticProgram.Model"><code>DiffOpt.QuadraticProgram.Model</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DiffOpt.QuadraticProgram.Model &lt;: DiffOpt.AbstractModel</code></pre><p>Model to differentiate quadratic programs.</p><p>For the reverse differentiation, it differentiates the optimal solution <code>z</code> and return product of jacobian matrices (<code>dz / dQ</code>, <code>dz / dq</code>, etc) with the backward pass vector <code>dl / dz</code></p><p>The method computes the product of</p><ol><li>jacobian of problem solution <code>z*</code> with respect to  problem parameters set with the <a href="#DiffOpt.ReverseVariablePrimal"><code>DiffOpt.ReverseVariablePrimal</code></a></li><li>a backward pass vector <code>dl / dz</code>, where <code>l</code> can be a loss function</li></ol><p>Note that this method <em>does not returns</em> the actual jacobians.</p><p>For more info refer eqn(7) and eqn(8) of https://arxiv.org/pdf/1703.00443.pdf</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.QuadraticProgram.create_LHS_matrix" href="#DiffOpt.QuadraticProgram.create_LHS_matrix"><code>DiffOpt.QuadraticProgram.create_LHS_matrix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_LHS_matrix(z, λ, Q, G, h, A=nothing)</code></pre><p>Inverse matrix specified on RHS of eqn(7) in https://arxiv.org/pdf/1703.00443.pdf</p><p>Helper method while calling <code>reverse_differentiate!</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.QuadraticProgram.solve_system-NTuple{4, Any}" href="#DiffOpt.QuadraticProgram.solve_system-NTuple{4, Any}"><code>DiffOpt.QuadraticProgram.solve_system</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Default <code>solve_system</code> call uses IterativeSolvers or the default linear solve</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.ConicProgram.Model" href="#DiffOpt.ConicProgram.Model"><code>DiffOpt.ConicProgram.Model</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Diffopt.ConicProgram.Model &lt;: DiffOpt.AbstractModel</code></pre><p>Model to differentiate conic programs.</p><p>The forward differentiation computes the product of the derivative (Jacobian) at the conic program parameters <code>A</code>, <code>b</code>, <code>c</code> to the perturbations <code>dA</code>, <code>db</code>, <code>dc</code>.</p><p>The reverse differentiation computes the product of the transpose of the derivative (Jacobian) at the conic program parameters <code>A</code>, <code>b</code>, <code>c</code> to the perturbations <code>dx</code>, <code>dy</code>, <code>ds</code>.</p><p>For theoretical background, refer Section 3 of Differentiating Through a Cone Program, https://arxiv.org/abs/1904.09043</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram.Model" href="#DiffOpt.NonLinearProgram.Model"><code>DiffOpt.NonLinearProgram.Model</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DiffOpt.NonLinearProgram.Model &lt;: DiffOpt.AbstractModel</code></pre><p>Model to differentiate nonlinear programs.</p><p>Supports forward and reverse differentiation, caching sensitivity data for primal variables, constraints, and bounds, excluding slack variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._build_sensitivity_matrices-Union{Tuple{Z}, Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}, AbstractVector, AbstractVector, AbstractVector, AbstractVector, AbstractVector, Vararg{Vector{Z}, 5}}} where Z&lt;:Integer" href="#DiffOpt.NonLinearProgram._build_sensitivity_matrices-Union{Tuple{Z}, Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}, AbstractVector, AbstractVector, AbstractVector, AbstractVector, AbstractVector, Vararg{Vector{Z}, 5}}} where Z&lt;:Integer"><code>DiffOpt.NonLinearProgram._build_sensitivity_matrices</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_build_sensitivity_matrices(model::Model, cons::Vector{MOI.Nonlinear.ConstraintIndex}, _X::AbstractVector, _V_L::AbstractVector, _X_L::AbstractVector, _V_U::AbstractVector, _X_U::AbstractVector, leq_locations::Vector{Z}, geq_locations::Vector{Z}, ineq_locations::Vector{Z}, has_up::Vector{Z}, has_low::Vector{Z})</code></pre><p>Build the M (KKT Jacobian w.r.t. solution) and N (KKT Jacobian w.r.t. parameters) matrices for the sensitivity analysis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._compute_derivatives_no_relax-Union{Tuple{Z}, Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}, AbstractVector, AbstractVector, AbstractVector, AbstractVector, AbstractVector, Vararg{Vector{Z}, 5}}} where Z&lt;:Integer" href="#DiffOpt.NonLinearProgram._compute_derivatives_no_relax-Union{Tuple{Z}, Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}, AbstractVector, AbstractVector, AbstractVector, AbstractVector, AbstractVector, Vararg{Vector{Z}, 5}}} where Z&lt;:Integer"><code>DiffOpt.NonLinearProgram._compute_derivatives_no_relax</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_compute_derivatives_no_relax(model::Model, cons::Vector{MOI.Nonlinear.ConstraintIndex},
    _X::AbstractVector, _V_L::AbstractVector, _X_L::AbstractVector, _V_U::AbstractVector, _X_U::AbstractVector, leq_locations::Vector{Z}, geq_locations::Vector{Z}, ineq_locations::Vector{Z},
    has_up::Vector{Z}, has_low::Vector{Z}
)</code></pre><p>Compute the derivatives of the solution w.r.t. the parameters without accounting for active set changes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._compute_optimal_hess_jac-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}" href="#DiffOpt.NonLinearProgram._compute_optimal_hess_jac-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}"><code>DiffOpt.NonLinearProgram._compute_optimal_hess_jac</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_compute_optimal_hess_jac(evaluator::MOI.Nonlinear.Evaluator, rows::Vector{JuMP.ConstraintRef}, x::Vector{JuMP.VariableRef})</code></pre><p>Compute the Hessian of the Lagrangian and Jacobian of the constraints calculated at the optimal solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._compute_optimal_hessian-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}" href="#DiffOpt.NonLinearProgram._compute_optimal_hessian-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}"><code>DiffOpt.NonLinearProgram._compute_optimal_hessian</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_compute_optimal_hessian(evaluator::MOI.Nonlinear.Evaluator, rows::Vector{JuMP.ConstraintRef}, x::Vector{JuMP.VariableRef})</code></pre><p>Compute the Hessian of the Lagrangian calculated at the optimal solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._compute_optimal_jacobian-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}" href="#DiffOpt.NonLinearProgram._compute_optimal_jacobian-Tuple{DiffOpt.NonLinearProgram.Model, Vector{MathOptInterface.Nonlinear.ConstraintIndex}}"><code>DiffOpt.NonLinearProgram._compute_optimal_jacobian</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_compute_optimal_jacobian(evaluator::MOI.Nonlinear.Evaluator, rows::Vector{JuMP.ConstraintRef}, x::Vector{JuMP.VariableRef})</code></pre><p>Compute the Jacobian of the constraints calculated at the optimal solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._compute_sensitivity-Tuple{DiffOpt.NonLinearProgram.Model}" href="#DiffOpt.NonLinearProgram._compute_sensitivity-Tuple{DiffOpt.NonLinearProgram.Model}"><code>DiffOpt.NonLinearProgram._compute_sensitivity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_compute_sensitivity(model::Model; tol=1e-6)</code></pre><p>Compute the sensitivity of the solution given sensitivity of the parameters (Δp).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._compute_solution_and_bounds-Tuple{DiffOpt.NonLinearProgram.Model}" href="#DiffOpt.NonLinearProgram._compute_solution_and_bounds-Tuple{DiffOpt.NonLinearProgram.Model}"><code>DiffOpt.NonLinearProgram._compute_solution_and_bounds</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_compute_solution_and_bounds(model::Model; tol=1e-6)</code></pre><p>Compute the solution and bounds of the primal variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._create_evaluator-Tuple{DiffOpt.NonLinearProgram.Form}" href="#DiffOpt.NonLinearProgram._create_evaluator-Tuple{DiffOpt.NonLinearProgram.Form}"><code>DiffOpt.NonLinearProgram._create_evaluator</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_create_evaluator(form::Form)</code></pre><p>Create the evaluator for the NLP.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._fill_off_diagonal-Tuple{SparseArrays.SparseMatrixCSC}" href="#DiffOpt.NonLinearProgram._fill_off_diagonal-Tuple{SparseArrays.SparseMatrixCSC}"><code>DiffOpt.NonLinearProgram._fill_off_diagonal</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_fill_off_diagonal(H)</code></pre><p>Filling the off-diagonal elements of a sparse matrix to make it symmetric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._find_inequalities-Tuple{DiffOpt.NonLinearProgram.Form}" href="#DiffOpt.NonLinearProgram._find_inequalities-Tuple{DiffOpt.NonLinearProgram.Form}"><code>DiffOpt.NonLinearProgram._find_inequalities</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_find_inequalities(cons::Vector{JuMP.ConstraintRef})</code></pre><p>Find the indices of the inequality constraints.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._inertia_correction-Union{Tuple{T}, Tuple{SparseArrays.SparseMatrixCSC, Int64, Int64}} where T&lt;:Real" href="#DiffOpt.NonLinearProgram._inertia_correction-Union{Tuple{T}, Tuple{SparseArrays.SparseMatrixCSC, Int64, Int64}} where T&lt;:Real"><code>DiffOpt.NonLinearProgram._inertia_correction</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_inertia_correction(
    M::SparseArrays.SparseMatrixCSC,
    num_cons::Int,
    num_w::Int;
    st::T = 1e-6,
    max_corrections::Int = 50
) where T&lt;:Real</code></pre><p>Inertia correction for the Jacobian of the KKT system. Similar to the inertia correction in Ipopt.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._is_greater_inequality-Union{Tuple{MathOptInterface.ConstraintIndex{F, S}}, Tuple{S}, Tuple{F}} where {F&lt;:Union{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.ScalarNonlinearFunction, MathOptInterface.ScalarQuadraticFunction{Float64}}, S&lt;:MathOptInterface.GreaterThan}" href="#DiffOpt.NonLinearProgram._is_greater_inequality-Union{Tuple{MathOptInterface.ConstraintIndex{F, S}}, Tuple{S}, Tuple{F}} where {F&lt;:Union{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.ScalarNonlinearFunction, MathOptInterface.ScalarQuadraticFunction{Float64}}, S&lt;:MathOptInterface.GreaterThan}"><code>DiffOpt.NonLinearProgram._is_greater_inequality</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_is_greater_inequality(con::MOI.ConstraintIndex{F, S}) where {F, S}</code></pre><p>Check if the constraint is a greater than inequality.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._is_less_inequality-Union{Tuple{MathOptInterface.ConstraintIndex{F, S}}, Tuple{S}, Tuple{F}} where {F&lt;:Union{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.ScalarNonlinearFunction, MathOptInterface.ScalarQuadraticFunction{Float64}}, S&lt;:MathOptInterface.LessThan}" href="#DiffOpt.NonLinearProgram._is_less_inequality-Union{Tuple{MathOptInterface.ConstraintIndex{F, S}}, Tuple{S}, Tuple{F}} where {F&lt;:Union{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.ScalarNonlinearFunction, MathOptInterface.ScalarQuadraticFunction{Float64}}, S&lt;:MathOptInterface.LessThan}"><code>DiffOpt.NonLinearProgram._is_less_inequality</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_is_less_inequality(con::MOI.ConstraintIndex{F, S}) where {F, S}</code></pre><p>Check if the constraint is a less than inequality.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffOpt.NonLinearProgram._lu_with_inertia_correction-Union{Tuple{T}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model, T}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model, T, Int64}} where T&lt;:Real" href="#DiffOpt.NonLinearProgram._lu_with_inertia_correction-Union{Tuple{T}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model, T}, Tuple{SparseArrays.SparseMatrixCSC, DiffOpt.NonLinearProgram.Model, T, Int64}} where T&lt;:Real"><code>DiffOpt.NonLinearProgram._lu_with_inertia_correction</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function _lu_with_inertia_correction(
    M::SparseArrays.SparseMatrixCSC, # Jacobian of KKT system
    model::Model, # Model to extract number of variables and constraints
    st::T = 1e-6, # Step size for inertia correction
    max_corrections::Int = 50, # Maximum number of corrections
) where T&lt;:Real</code></pre><p>Lu-factorization with inertia correction. If no inertia correction is needed, it only performs the LU factorization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jump-dev/DiffOpt.jl">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../usage/">« Usage</a><a class="docs-footer-nextpage" href="../examples/Mean_Variance_Portfolio_Example/">Mean Variance Portfolio Example »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 11 September 2025 06:15">Thursday 11 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
